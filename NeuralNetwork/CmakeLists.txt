cmake_minimum_required(VERSION 3.11)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED True)

set_property(GLOBAL PROPERTY USE_FOLDERS ON)

find_package(OpenCV REQUIRED)

include_directories(${EXTERNAL_INSTALL_LOCATION}/include)
link_directories(${EXTERNAL_INSTALL_LOCATION}/lib)

file(GLOB_RECURSE HDR "hdr/*.h")
source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} FILES ${HDR})

file(GLOB_RECURSE SRC "src/*.cpp")
source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} FILES ${SRC})

add_library(NeuralNetwork SHARED ${HDR} ${SRC})

target_include_directories(NeuralNetwork PUBLIC
  "hdr"
  "${OpenCV_INCLUDE_DIRS}"
  "${sdl_SOURCE_DIR}/include"
  "${imgui_SOURCE_DIR}/imgui"
  "${xtl_SOURCE_DIR}/include"
  "${xtensor_SOURCE_DIR}/include"
  "${xtensor-blas_SOURCE_DIR}/include")